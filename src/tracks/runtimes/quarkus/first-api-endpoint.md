---
title: Implement Your First API Endpoint
initialOpenGroupIndex: -1
collapsable: true
tags:
- java
- graalvm
- graal
- native-image
- quarkus
- panache
- openapi
- api
- rest
- openapi-generator
- contract-first
- unit testing
- testing
- junit
- mocking
- panache
- hibernate
---

## Implement Your First API Endpoint

1. Add the Mockito dependency for Quarkus to the Maven `pom.xml`
    ```xml
    <dependency>
      <groupId>io.quarkus</groupId>
      <artifactId>quarkus-junit5-mockito</artifactId>
      <scope>test</scope>
    </dependency>
    ```
1. Start with writing a test under the `com.redhat.runtimes.api` package
    ```java
    import javax.inject.Inject;
    import java.util.ArrayList;

    import static org.junit.jupiter.api.Assertions.*;

    @DisplayName("Todos API Tests")
    @QuarkusTest
    public class TodosApiTest {

        @Inject
        TodosApi underTest;

        static TodosRepository repo;

        @BeforeAll
        public static void setup() {
            repo = Mockito.mock(TodosRepository.class);
            QuarkusMock.installMockForType(repo, TodosRepository.class);
        }

        @Test
        public void testGetTodosNoResults() {
            Mockito.when(repo.listAll()).thenReturn(new ArrayList<>());
            var result = underTest.gettodos();
            assertEquals(0, result.size(), "Without prepared data, we expect 0 results");
        }
    }
    ```
1. Implement the `TodosApi` interface which was generated by OpenAPI Generator
    ```java
    package com.redhat.runtimes.api;

    import com.redhat.runtimes.data.TodosRepository;
    import com.redhat.runtimes.models.Todo;

    import javax.enterprise.context.RequestScoped;
    import javax.inject.Inject;
    import java.util.List;
    import java.util.UUID;

    @RequestScoped
    public class TodosApiImpl implements TodosApi {

        @Inject
        TodosRepository repository;

        @Override
        public Todo createTodo(Todo todo) {
            return null;
        }

        @Override
        public void deleteTodo(UUID todoId) {

        }

        @Override
        public Todo getTodo(UUID todoId) {
            return null;
        }

        @Override
        public List<Todo> gettodos() {
            return repository.listAll();
        }

        @Override
        public Todo updateTodo(UUID todoId, Todo todo) {
            return null;
        }
    }
    ```
1. Run our tests to ensure that our implementation is correct
    ```bash
    ./mvnw test
    ```
1. Repeat this process for each API Interface and method